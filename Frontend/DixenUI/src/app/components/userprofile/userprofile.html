<div class="min-h-screen bg-white">
  <div class="max-w-4xl mx-auto p-4 sm:p-6 lg:p-8">

    <!-- Header -->
    <div class="mb-8 text-center border-b pb-6 pt-20">
      <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-2">Profile Details</h1>
      <p class="text-slate-600 text-sm sm:text-base">User information and permissions</p>
    </div>

    <!-- Loading -->
    <div *ngIf="isLoading" class="flex flex-col items-center justify-center py-20">
      <div class="w-12 h-12 border-4 border-slate-200 border-t-slate-600 rounded-full animate-spin mb-4"></div>
      <p class="text-lg text-slate-600 font-medium">Loading profile...</p>
    </div>

    <!-- Profile Content -->
    <div *ngIf="!isLoading && user" class="space-y-6">

      <!-- Main Profile Info -->
      <div class="bg-slate-50 border border-slate-200 rounded-2xl p-6 sm:p-8">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6">

          <!-- Name & Email -->
          <div class="md:col-span-2">
            <label class="block text-sm font-semibold text-slate-700 mb-1">Full Name</label>
            <div class="text-2xl sm:text-3xl font-bold text-slate-900">{{ user.fullName }}</div>
            <label class="block text-sm font-semibold text-slate-700 mt-4 mb-1">Email</label>
            <div class="text-lg font-medium text-slate-800 break-all">{{ user.email }}</div>
          </div>

          <!-- Quick Stats -->
          <div class="space-y-3">
            <div>
              <label class="block text-xs font-semibold text-slate-600 uppercase tracking-wide mb-1">Gender</label>
              <div class="text-sm font-medium text-slate-800">{{ user.gender || 'N/A' }}</div>
            </div>
            <div>
              <label class="block text-xs font-semibold text-slate-600 uppercase tracking-wide mb-1">Age</label>
              <div class="text-sm font-medium text-slate-800">{{ user.age || 'N/A' }}</div>
            </div>
            <div>
              <label class="block text-xs font-semibold text-slate-600 uppercase tracking-wide mb-1">2FA Status</label>
              <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold text-white"
                    [ngClass]="user.is2FAEnabled ? 'bg-emerald-600' : 'bg-slate-400'">
                {{ user.is2FAEnabled ? 'Enabled' : 'Disabled' }}
              </span>
            </div>
          </div>
        </div>

        <!-- Roles Badges -->
        <div>
          <label class="block text-sm font-semibold text-slate-700 mb-3">Roles</label>
          <div class="flex flex-wrap gap-2">
            <span *ngFor="let role of user.roles"
                  class="inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white border shadow-sm"
                  [ngClass]="{
                    'bg-blue-600 border-blue-700': role === 'User',
                    'bg-emerald-600 border-emerald-700': role === 'Host',
                    'bg-orange-600 border-orange-700': role === 'Admin'
                  }">
              <i class="fas fa-circle text-xs"></i>
              {{ role }}
            </span>
          </div>
        </div>
      </div>

      <!-- User Bookings -->
  <div *ngIf="userBookings.length"
     class="bg-white border border-slate-200 rounded-2xl shadow-sm p-6">

  <h2 class="text-lg font-semibold text-slate-900 mb-4">
    My Booked Events
  </h2>

  <ul class="space-y-3">
    <li *ngFor="let booking of userBookings"
        class="p-4 bg-slate-50 rounded-lg border">

      <div class="font-semibold text-slate-900">
        {{ booking.eventTitle }}
      </div>

      <div class="text-sm text-slate-600">
        Hall: {{ booking.hallName || 'N/A' }}
      </div>

      <div class="text-sm text-slate-600">
        Booked on: {{ booking.bookedTime | date:'medium' }}
      </div>
    </li>
  </ul>
</div>



      <!-- Role Permissions -->
      <div *ngFor="let role of user.roles" class="bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden">
        <div class="bg-slate-50 px-6 py-4 border-b border-slate-200">
          <h3 class="text-lg font-semibold text-slate-900 flex items-center gap-3">
            <span class="w-3 h-3 rounded-full"
                  [ngClass]="{
                    'bg-blue-500': role === 'User',
                    'bg-emerald-500': role === 'Host',
                    'bg-orange-500': role === 'Admin'
                  }"></span>
            {{ role }} Permissions
          </h3>
        </div>
        
        <div class="p-6">
          <div class="space-y-3">
            <div *ngFor="let line of getRoleDescription(role)" 
                 class="flex items-start gap-3 p-3 bg-slate-50 rounded-lg border-l-4 border-slate-200 hover:bg-slate-100 transition-colors">
              <div class="w-1.5 h-1.5 bg-slate-400 rounded-full mt-2 flex-0"></div>
              <span class="text-sm text-slate-700 leading-relaxed">{{ line }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Error State -->
    <div *ngIf="!isLoading && !user" 
         class="max-w-md mx-auto mt-20 p-8 bg-red-50 border-2 border-red-200 rounded-2xl text-center">
      <div class="w-16 h-16 mx-auto mb-4 bg-red-100 rounded-2xl flex items-center justify-center">
        <i class="fas fa-user-slash text-2xl text-red-500"></i>
      </div>
      <h3 class="text-xl font-semibold text-red-800 mb-2">Profile Not Found</h3>
      <p class="text-red-700">User profile not available.</p>
    </div>

  </div>
</div>
